@model Bquiz.Models.bq_Group
<!DOCTYPE bquiz SYSTEM "../../Content/Defined/bquiz.dtd">
@{
    ViewBag.Title = "Result_Test for Test ID ";
    Layout = null;
}


<html>
<head>
    <title>Result of Test</title>
    <link href="@Url.Content("~/Content/Site.css")" rel="stylesheet" type="text/css" />
    <script src="@Url.Content("~/Scripts/jquery-1.7.1.min.js")" type="text/javascript"></script>


    @(Html.Telerik().StyleSheetRegistrar().DefaultGroup(group => group.Add("telerik.common.css").Add("telerik.metro.css").Combined(true).Compress(true)))

</head>

<body>
    
    @Html.Partial("_HeaderPartial")
    <div class="page">
        <div id="Main">
            <input type="hidden" id="partordername_result" value="@String.Format("Part {0} : {1}", Model.Group.bq_Part.Order, Model.Group.bq_Part.Name)" /> @*lấy tên của part để expand menu*@
            <div>
                <div id="LeftPanel">

                    @Html.Action("PublishingMenuResult", "Part", new { quizId = ViewBag.QuizId, testId = (Guid)ViewBag.TestId })
                </div>

                <div id="MainPanel" style="height: 100%">
                    @Html.Partial("/Views/QuestionGroup/_TopTestingNav_Result.cshtml", Bquiz.BquizHelper.BquizHelpers.GetNav((Guid)ViewBag.GroupId))

                    <div>

                        <p>@Model.Group.Name</p>

                        @if (Model.Group.Paragraph != null)
                        {
                            <p>
                                @Html.Raw(Model.Group.Paragraph)
                            </p>
                        }

                        @if (Model.Group.MediaPath != null)
                        {
                            <audio controls="controls">
                                <source src="\Bquiz_Data\Audio\@Model.Group.MediaPath" type="audio/mpeg">
                                Your browser does not support the audio element.
                            </audio>
                        }
                    </div>

                    <div>
                        @foreach (var question in Model.QuestionList)
                        {
                           
                            <div class="Element">
                                <div class="ImportantElement">Question @question.Order</div>

                                @if (question.Paragraph != null)
                                {
                                    <div>
                                        @question.Paragraph
                                    </div>
                                }
                                @if (question.MediaPath != null)
                                {
                                    <audio controls="controls">
                                        <source src="\Bquiz_Data\Audio\@question.MediaPath" type="audio/mpeg">
                                        Your browser does not support the audio element.
                                    </audio>
                                }
                                @if (question.ImagePath != null)
                                {
                                    <img src="\Bquiz_Data\Images\@question.ImagePath" width="100%" />
                                }

                                <div>
                                    <table>
                                        <tr>
                                            <td style="width: 80px; vertical-align: top">
                                                @if (Bquiz.BquizHelper.BquizHelpers.GetAnswer((Guid)ViewBag.TestId, question.QuestionId).Answer == 1)
                                                {       
                                                    <img src="../../Content/images/Delete.png" width="20" />                                      
                                                     
                                                    if (question.Answer == 1)
                                                    {
                                               
                                                    <img src="../../Content/images/Check Box.png" width="20" />
                                            
                                                    }
                                                }
                                                else
                                                {
                                                    <img src="../../Content/images/CharacterA-Smoke.png" width="20" /> 
                                                    if (question.Answer == 1)
                                                    {
                                               
                                                    <img src="../../Content/images/Check Box.png" width="20" />
                                            
                                                    }
                                                }
                                            </td>
                                            <td>@question.OptionA</td>

                                        </tr>
                                        <tr>
                                            <td style="width: 80px; vertical-align: top">
                                                @if (Bquiz.BquizHelper.BquizHelpers.GetAnswer((Guid)ViewBag.TestId, question.QuestionId).Answer == 2)
                                                {
                                                    <img src="../../Content/images/Delete.png" width="20" /> 
                                                    
                                                    if (question.Answer == 2)
                                                    {
                                               
                                                    <img src="../../Content/images/Check Box.png" width="20" />
                                            
                                                    }
                                                }
                                                else
                                                {
                                                    <img src="../../Content/images/CharacterB-Smoke.png" width="20" />
                                                    if (question.Answer == 2)
                                                    {
                                               
                                                   <img src="../../Content/images/Check Box.png" width="20" />
                                            
                                                    }
                                                }
                                            </td>
                                            <td>@question.OptionB</td>
                                        </tr>
                                        <tr>
                                            <td style="width: 80px; vertical-align: top">
                                                @if (Bquiz.BquizHelper.BquizHelpers.GetAnswer((Guid)ViewBag.TestId, question.QuestionId).Answer == 3)
                                                {
                                                     <img src="../../Content/images/Delete.png" width="20" /> 
                                                    
                                                    if (question.Answer == 3)
                                                    {
                                               
                                                   <img src="../../Content/images/Check Box.png" width="20" />
                                            
                                                    }
                                                }
                                                else
                                                { 
                                                    <img src="../../Content/images/CharacterC-Smoke.png" width="20" />
                                                    if (question.Answer == 3)
                                                    {
                                               
                                                    <img src="../../Content/images/Check Box.png" width="20" />
                                            
                                                    }
                                                }
                                            </td>
                                            <td>@question.OptionC</td>
                                        </tr>
                                        <tr>
                                            <td style="width: 80px; vertical-align: top">
                                                @if (Bquiz.BquizHelper.BquizHelpers.GetAnswer((Guid)ViewBag.TestId, question.QuestionId).Answer == 4)
                                                {
                                                    <img src="../../Content/images/Delete.png" width="20" /> 
                                                    
                                                    if (question.Answer == 4)
                                                    {
                                               
                                                     <img src="../../Content/images/Check Box.png" width="20" />
                                            
                                                    }
                                                }
                                                else
                                                {
                                                    <img src="../../Content/images/CharacterD-Smoke.png" width="20" />
                                                    if (question.Answer == 4)
                                                    {
                                               
                                                     <img src="../../Content/images/Check Box.png" width="20" />
                                            
                                                    }
                                                }
                                            </td>
                                            <td>@question.OptionD</td>
                                        </tr>

                                    </table>
                                </div>
                            </div>
                            
                        }
                    </div>


                    @Html.Partial("/Views/QuestionGroup/_BottomTestingNav_Result.cshtml", Bquiz.BquizHelper.BquizHelpers.GetNav((Guid)ViewBag.GroupId))
                </div>
                <div id="RightPanel">
                    <ul class="nav">
                        <li style="text-align: left">Score:<br />
                            Listening=@Bquiz.BquizHelper.BquizHelpers.GetMark_Listen(@ViewBag.TestID)
                            <br />
                            Reading=@Bquiz.BquizHelper.BquizHelpers.GetMark_Read(@ViewBag.TestID) <br />
                            Total=@Bquiz.BquizHelper.BquizHelpers.GetMark(@ViewBag.TestID)
                        </li>
                        <li style="text-align: left">Right:@Bquiz.BquizHelper.BquizHelpers.GetRight(@ViewBag.TestID)  </li>
                        <li style="text-align: left">Done: @ViewBag.QuestionDone /200</li>
                        <li style="text-align: left">Your Choice:
                            <img src="../../Content/images/Delete.png" width="40" /></li>
                        <li style="text-align: left">Answer:
                            <img src="../../Content/images/Check Box.png" width="40" /></li>
                    </ul>

                </div>
            </div>
        </div>
    </div>
    @(Html.Telerik().ScriptRegistrar().DefaultGroup(group => group.Combined(true).Compress(true)))
</body>
</html>


